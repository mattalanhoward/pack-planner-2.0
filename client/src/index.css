/* src/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ────────────────────────────────────────────────────────  
   Now override Tailwind’s “a { color: inherit; }” so that
   your links can actually receive their own color classes.
   You can set a global default here if you like. 
──────────────────────────────────────────────────────── */
a {
  /* “initial” means “use browser default link color” (usually blue) —
     but you can set whatever default you prefer. */
  color: #25554d;
  text-decoration: none; /* or “none” if you don’t want underlines by default */
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* hide-on-touch: anything with a coarse pointer (i.e. finger) */
@media (pointer: coarse) {
  .hide-on-touch {
    display: none !important;
  }
}

/* show-on-touch: only on coarse‐pointer devices (phones/tablets) */
@media (pointer: coarse) {
  .show-on-touch {
    display: inline !important;
  }
}
/* default: hide */
.show-on-touch {
  display: none;
}

/* src/index.css */
[data-reorderable-placeholder] {
  display: block;
  height: 2px;
  background: var(--secondary-400);
  margin: 0.5rem 0;
}

/* Add your custom utility here: */
@layer utilities {
  .drawer-transition {
    @apply transition-transform duration-300 ease-in-out;
  }
}

/* iOS focus-zoom fix: keep interactive controls ≥16px.
   Chrome/Safari on iOS share WebKit, so both benefit. */
@layer base {
  .no-ios-zoom input:not([type="checkbox"]):not([type="radio"]),
  .no-ios-zoom select,
  .no-ios-zoom textarea,
  .no-ios-zoom button {
    font-size: 16px; /* hard floor prevents iOS zoom */
    font-size: max(16px, 1rem); /* follow root if larger */
    line-height: 1.5;
  }
}

html {
  /* avoid Safari “smart” text zooming */
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* ── Modal sizing + scrolling that works on iOS (keyboard, address bar) ── */
@layer utilities {
  /* Fullscreen centered backdrop with padding around the panel */
  .modal-backdrop {
    @apply fixed inset-0 z-50 grid place-items-center p-4 sm:p-6;
  }

  /* Scroll inside the panel, never taller than the viewport */
  .modal-panel {
    @apply w-full max-w-lg overflow-y-auto rounded-2xl bg-white shadow-xl;
    /* Cap height to the dynamic viewport and account for safe areas + padding */
    max-height: calc(
      100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 2rem
    );
    overscroll-behavior: contain; /* avoid background scroll bleed */
    -webkit-overflow-scrolling: touch; /* smooth iOS scrolling */
    scrollbar-gutter: stable both-edges; /* prevents layout shift on scrollbars */
  }

  /* Fallback for browsers without dvh support */
  @supports not (height: 100dvh) {
    .modal-panel {
      max-height: calc(90vh - 2rem);
    }
  }

  /* Optional helpers for sticky sections inside a scrolling panel */
  .modal-header {
    @apply sticky top-0 z-10 bg-white/95 backdrop-blur border-b;
  }
  .modal-footer {
    @apply sticky bottom-0 z-10 bg-white/95 backdrop-blur border-t;
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Tighter vertical rhythm on small screens for form rows */
  .modal-form-compact {
    @apply space-y-2 sm:space-y-4;
  }
}
